<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Electron EDM Limit Calculator</title>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 30px;
}

h1 {
    font-size: 2em;
    font-weight: bold;
    text-align: center;
    margin-bottom: 20px;
}

/* side-by-side container */
.panel-container {
    display: flex;
    gap: 90px;
    align-items: flex-start;
}

/* each column */
.panel {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.panel img {
    margin-bottom: 10px;
}

.caption {
    font-weight: bold;
    margin-bottom: 5px;
    font-size: 1.3em;
}

.example {
    font-weight: normal;
    margin-bottom: 5px;
    font-size: 1em;
}

.form-row {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.form-row label {
    width: 200px;
    font-weight: bold;
}

.form-row input {
    width: 100px;
    margin-right: 5px;
}

.form-row title {
    width: 100px;
    font-weight: bold;
}
</style>
</head>

<body>

<h1>Electron EDM Limit Calculator</h1>

<div class="panel-container">

  <div class="panel">
        <div class="caption">beam type </div>
        <div class="example">(e.g. ACME I-III) </div>
    <img src="eEDM_Beam.png" width="250">
        <div class="form-row">
      <label>Effective electric field:</label>
      <input type="number" value="78" id="Eeff_Beam" oninput="compute_Beam()" style="width:80px;"> GV/cm
    </div>
    <div class="form-row">
      <label>Spin precession time:</label>
      <input type="number" value="0.005" id="tau_Beam" step="0.001" oninput="compute_Beam()" style="width:80px;"> s
    </div>
    <div class="form-row">
      <label>Count rate:</label>
      <input type="number" value="5e7" id="Ndot_Beam"  step="1e7" oninput="compute_Beam()" style="width:80px;"> /s
    </div>
    <div class="form-row">
      <label>Data acquisition:</label>
      <input type="number" value="1" id="DAQ_Beam" oninput="compute_Beam()" style="width:80px;"> day
    </div>
  <div class="form-row">
      <label><p></p> </label>
          </div>
    <p>&delta;d<sub>e</sub> = <span id="out_de_Beam">0</span> e·cm</p>
    
    </div> 


  <div class="panel">
    <div class="caption">trap type–no multiplexing </div>
    <div class="example">(e.g. JILA EDM I&II)</div>
    <img src="eEDM_Trap.png" width="250">
    <div class="form-row">
      <label>Effective electric field:</label>
      <input type="number" value="23" id="Eeff_Trap" oninput="compute_Trap()" style="width:80px;"> GV/cm
    </div>
    <div class="form-row">
      <label>Spin precession time:</label>
      <input type="number" value="2.0" id="tau_Trap"  step="0.1" oninput="compute_Trap()" style="width:80px;"> s
    </div>
    <div class="form-row">
      <label>N per shot:</label>
      <input type="number" value="500" id="Nshot_Trap"  step="10" oninput="compute_Trap()" style="width:80px;">
    </div>
    <div class="form-row">
      <label>Data acquisition:</label>
      <input type="number" value="1" id="DAQ_Trap" oninput="compute_Trap()" style="width:80px;"> day
    </div>
    <div class="form-row">
      <label><p></p> </label>
          </div>
    <p>&delta;d<sub>e</sub> = <span id="out_de_Trap">0</span> e·cm</p>
    
    </div> 


  <div class="panel">
    <div class="caption">trap type–multiplexed</div>
    <div class="example">(e.g. JILA EDM III)</div>
    <img src="eEDM_Trap_Multi.png" width="250">
    <div class="form-row">
      <label>Effective electric field:</label>
      <input type="number" value="35" id="Eeff_Trap_Multi" oninput="compute_Trap_Multi()" style="width:80px;"> GV/cm
    </div>
    <div class="form-row">
      <label>Spin precession time:</label>
      <input type="number" value="20.0" id="tau_Trap_Multi"  step="0.1"  oninput="compute_Trap_Multi()" style="width:80px;"> s
    </div>
    <div class="form-row">
      <label>N per shot:</label>
      <input type="number" value="50" id="Nshot_Trap_Multi" oninput="compute_Trap_Multi()" style="width:80px;">
    </div>
    <div class="form-row">
      <label>Rep rate:</label>
      <input type="number" value="2" id="Frep_Trap_Multi" oninput="compute_Trap_Multi()" style="width:80px;"> Hz
    </div>
    <div class="form-row">
      <label>Data acquisition:</label>
      <input type="number" value="1" id="DAQ_Trap_Multi" oninput="compute_Trap_Multi()" style="width:80px;"> day
    </div>
    
    <p>&delta;d<sub>e</sub> = <span id="out_de_Multi">0</span> e·cm</p>
    
  </div>
  </div>
</div>


<script>
function compute_Beam() {
    const Eeff = Number(document.getElementById('Eeff_Beam').value) * 1e9 * 1e2;
    const tau = Number(document.getElementById('tau_Beam').value);
    const Ndot = Number(document.getElementById('Ndot_Beam').value);
    const TDAQ = Number(document.getElementById('DAQ_Beam').value) * 24 * 3600;
    const hbar = 1.054e-34;
    const eCharge = 1.602e-19;

    const de = (hbar / 2) / (Eeff * tau * Math.sqrt(Ndot * TDAQ)) / eCharge * 1e2;
    document.getElementById('out_de_Beam').textContent = de.toExponential(2);
}
</script>

    <script>
function compute_Trap() {
    const Eeff = Number(document.getElementById('Eeff_Trap').value) * 1e9 * 1e2;
    const tau = Number(document.getElementById('tau_Trap').value);
    const Nshot = Number(document.getElementById('Nshot_Trap').value);
    const TDAQ = Number(document.getElementById('DAQ_Trap').value) * 24 * 3600;
    const hbar = 1.054e-34;
    const eCharge = 1.602e-19;

    const de = (hbar / 2) / (Eeff * Math.sqrt(tau *Nshot * TDAQ)) / eCharge * 1e2;
    document.getElementById('out_de_Trap').textContent = de.toExponential(2);
}
</script>

    
    <script>
function compute_Trap_Multi() {
    const Eeff = Number(document.getElementById('Eeff_Trap_Multi').value) * 1e9 * 1e2;
    const tau = Number(document.getElementById('tau_Trap_Multi').value);
    const Nshot = Number(document.getElementById('Nshot_Trap_Multi').value);
    const Frep = Number(document.getElementById('Frep_Trap_Multi').value);
    const TDAQ = Number(document.getElementById('DAQ_Trap_Multi').value) * 24 * 3600;
    const hbar = 1.054e-34;
    const eCharge = 1.602e-19;

    const de = (hbar / 2) / (Eeff * tau * Math.sqrt(Frep *Nshot * TDAQ)) / eCharge * 1e2;
    document.getElementById('out_de_Multi').textContent = de.toExponential(2);
}
</script>

<script>
window.onload = function() {
    compute_Beam();
    compute_Trap();
    compute_Trap_Multi();
};
</script>

</body>
</html>
